<!DOCTYPE html>

<html>

  <head>
    <meta charset="UTF-8">
    <title>BouncingBallAnimation</title>

    <style type="text/css">
      body 
      {
          background-color: white;
      }
      canvas
      {
        border: 1px solid black;
      }
    </style>

  </head>

  <body>
    <h1>David O Connor</h1>
    <canvas id="canvas-for-ball"></canvas>

    <script type="text/javascript">
      // Gets a handle to the element with id canvasOne.
      var canvas = document.getElementById("canvas-for-ball");
      // Get a 2D context for the canvas.
      var ctx = canvas.getContext("2d");
      
      // Set the canvas size
      canvas.width = window.innerWidth -20; // Adjust as needed
      canvas.height = window.innerHeight - 150; // Adjust as needed

      class Ball
      {
        constructor(x, y, radius, vx, vy)
        {
          this.x = x;
          this.y = y;
          this.radius = radius;
          this.vx = vx;
          this.vy = vy;
        }

        draw() 
        {
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          // Draw the prohibition symbol (circle with a diagonal line)
          ctx.strokeStyle = 'red'; // You can change the color as needed
          ctx.lineWidth = 13; // You can adjust the line width as needed

          // Draw the circle
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.radius+13, 0, Math.PI * 2);

          // Calculate the coordinates for the diagonal line
          const startX = this.x + this.radius + Math.cos(Math.PI);
          const startY = this.y + this.radius + Math.sin(Math.PI);
          const endX = this.x - this.radius - Math.cos(Math.PI);
          const endY = this.y - this.radius - Math.sin(Math.PI);

          // Draw the diagonal line
          ctx.moveTo(startX, startY);
          ctx.lineTo(endX, endY);

          // Calculate the coordinates for the start and end points of the line
          const startX1 = this.x + this.radius + Math.cos(Math.PI);
          const startY1 = this.y - this.radius + Math.sin(Math.PI);
          const endX2 = this.x - this.radius + Math.cos(Math.PI);
          const endY2 = this.y + this.radius + Math.sin(Math.PI);

          // Draw the second diagonal line
          ctx.moveTo(startX1, startY1);
          ctx.lineTo(endX2, endY2);

          ctx.stroke();
          ctx.closePath();
          
        }


        move()
        {
          // Clear the canvas before each frame so that it makes the ball move around the screen
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          // Update the ball's position
          this.x += this.vx;
          this.y += this.vy;

          // Draw the ball
          this.draw();

          console.log(this.x);
          console.log(this.y);
          

          // Check for collisions with the canvas boundaries
          if (this.y + this.radius > canvas.height || this.y - this.radius < 0) 
          {
            // Reverse the vertical velocity when hitting top or bottom
            this.vy *= -1;
          }

          if (this.x + this.radius > canvas.width || this.x - this.radius < 0) 
          {
            // Reverse the horizontal velocity when hitting left or right
            this.vx *= -1;
          }
        }
      }

      //Creates the ball object and sets he balls radius, speed in the vertical and horizontal direction.
      const ball = new Ball(canvas.width / 2, canvas.height / 5, 40, 0,0);
      
      // A function to repeat every time the animation loops.
      function repeatme() 
      { 

        ball.move();
        window.requestAnimationFrame(repeatme);
        
      }
      
      // Get the animation going.
      repeatme();
    </script>

  </body>

</html>