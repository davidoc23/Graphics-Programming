<!DOCTYPE html>

<html>

  <head>
    <meta charset="UTF-8">
    <title>BouncingBallAnimation</title>

    <style type="text/css">
      body 
      {
          background-color: white;
      }
      canvas
      {
        border: 1px solid black;
      }
    </style>

  </head>

  <body>
    <h1>David O Connor</h1>
    <canvas id="canvas-for-ball"></canvas>

    <script type="text/javascript">
      // Gets a handle to the element with id canvasOne.
      var canvas = document.getElementById("canvas-for-ball");
      // Get a 2D context for the canvas.
      var ctx = canvas.getContext("2d");
      
      // Set the canvas size
      canvas.width = window.innerWidth -20; // Adjust as needed
      canvas.height = window.innerHeight - 150; // Adjust as needed

      class Ball
      {
        constructor(x, y, radius, vx, vy)
        {
          this.x = x;
          this.y = y;
          this.radius = radius;
          this.vx = vx;
          this.vy = vy;
        }

        draw() 
        {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.beginPath();
          ctx.fillStyle = 'white';
          ctx.fill();
          ctx.closePath();

          // Draw the X inside the circle
          ctx.strokeStyle = 'red'; // You can change the color of the X as needed
          ctx.lineWidth = 10; // You can adjust the line width as needed
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.radius+10, 0, Math.PI * 2);
          ctx.moveTo(this.x - this.radius, this.y - this.radius);
          ctx.lineTo(this.x + this.radius, this.y + this.radius);
          ctx.moveTo(this.x + this.radius, this.y - this.radius);
          ctx.lineTo(this.x - this.radius, this.y + this.radius);
          ctx.stroke();
          ctx.closePath();
        }


        move()
        {
          // Clear the canvas before each frame so that it makes the ball move around the screen
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          // Update the ball's position
          this.x += this.vx;
          this.y += this.vy;

          // Draw the ball
          this.draw();

          // Check for collisions with the canvas boundaries
          if (this.y + this.radius+10 > canvas.height || this.y - this.radius-10 < 0) 
          {
            // Reverse the vertical velocity when hitting top or bottom
            this.vy *= -1;
          }

          if (this.x + this.radius+10 > canvas.width || this.x - this.radius-10 < 0) 
          {
            // Reverse the horizontal velocity when hitting left or right
            this.vx *= -1;
          }
        }
      }

      //Creates the ball object and sets he balls radius, speed in the vertical and horizontal direction.
      const ball = new Ball(canvas.width / 2, canvas.height / 2, 30, 2, 2);
      
      // A function to repeat every time the animation loops.
      function repeatme() 
      { 

        window.requestAnimationFrame(repeatme);
        ball.move();

      }
      
      // Get the animation going.
      repeatme();
    </script>

  </body>

</html>